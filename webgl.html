<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>YKF2YVR</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	

	<body>
		<script src="js/three.js"></script>
		<script>
			var camera, scene, renderer;
			var cube;
			init();
			animate();
			
			function init() {
				camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );
				
				camera.position.x = 200*Math.cos(7*Math.PI/4);
				camera.position.z = 200*Math.sin(7*Math.PI/4);
				camera.position.y = 800;
				scene = new THREE.Scene();

				
				
				for(i = 0; i < 40; i++){
					for(j = 0; j < 40; j++){
					    if(j>i) {
							var weight = (j+i)*(j-i);
							weight = (weight > 50 ? 50: weight);
							var offset = (1/j*i)*5

							var numCubes = Math.floor(Math.random() * weight + offset );
							//create a cube, set its colour and add it to the scene.
							var geometry = new THREE.BoxBufferGeometry( 20, 20*numCubes, 20 );
							var material = new THREE.MeshLambertMaterial( { color: 0x33434C }  );
							cube  = new THREE.Mesh( geometry, material );
							cube.position.x = (i*20-400);
							cube.position.z = (j*20-400);
							cube.position.y = (10*numCubes);
							scene.add( cube );
						}
					}
				}

				
				// Create a light, set its position, and add it to the scene.
				var ambientLight = new THREE.AmbientLight(0xffffff, 0.2)
				scene.add(ambientLight);
				
				// Create a light, set its position, and add it to the scene.
				var directionalLight = new THREE.DirectionalLight( 0xD3D3BD, 1 );
				directionalLight.position.set( 50, 100, 50 );
				scene.add(directionalLight);
	  
				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				renderer.setClearColor(new THREE.Color( 0x808080 ), 1);
				document.body.appendChild( renderer.domElement );
				
				window.addEventListener( 'resize', onWindowResize, false );
			}
			function onWindowResize() {
				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();
				renderer.setSize( window.innerWidth, window.innerHeight );
			}
			function animate() {
				requestAnimationFrame( animate );
				//camera.position.x = 2*Math.cos(delta);
				//camera.position.z = 2*Math.sin(delta);
				camera.lookAt(new THREE.Vector3( 0, 700, 0 ))
				renderer.render( scene, camera );
				//delta += 0.02;
			}
		</script>
	</body>
</html>